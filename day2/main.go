package main

import (
	"fmt"
	"log"
	"strings"
)

type move string

func (m *move) point() int {
	switch *m {
	case "X", "A":
		return 1
	case "Y", "B":
		return 2
	case "Z", "C":
		return 3
	default:
		log.Fatal("m is not defined: ", *m)
		return 0
	}
}

func score(m1, m2 move) int {
	if m1.point() == m2.point() {
		return 3
	}
	if m1 == "A" && m2 == "Y" {
		return 6
	}
	if m1 == "B" && m2 == "Z" {
		return 6
	}
	if m1 == "C" && m2 == "X" {
		return 6
	}

	return 0
}

// part 2

type directive string

func (d directive) chooseMove(m1 move) move {
	// draw
	if d == "Y" {
		return m1
	}

	// win
	if d == "Z" {
		switch m1 {
		case "A":
			return "Y"
		case "B":
			return "Z"
		case "C":
			return "X"
		}
	}

	// lose
	switch m1 {
	case "A":
		return "Z"
	case "B":
		return "X"
	case "C":
		return "Y"
	}

	return move("X")
}

func main() {
	lines := strings.Split(strGuide, "\n")
	sum := 0
	part2sum := 0
	for i, l := range lines {
		fmt.Println(i, l)
		moves := strings.Split(l, " ")
		fmt.Println("m1:", moves[0], " m2:", moves[1])
		m1, m2 := move(moves[0]), move(moves[1])
		turn := m2.point() + score(m1, m2)
		sum += turn
		d := directive(m2)
		// directed move
		dm := d.chooseMove(m1)
		part2sum += dm.point() + score(m1, dm)
		fmt.Println(turn)
	}
	print("part 1 total: ", sum)
	print("part 2 total: ", part2sum)
}

const strGuide = `B Y
A Z
C Z
A Y
A Y
B Y
C Y
A Y
B Y
B Y
A Y
B Z
B Y
A Y
C Y
B X
B Y
B Y
B Y
C Y
B Y
A Y
B Y
A Y
B Y
C Y
A Y
B X
B Y
B Y
B X
B Y
C Y
B Y
C Z
A X
B Y
B Y
A Z
B X
C Y
C Z
B Y
B Y
A Y
B X
B Y
B Y
B X
B Y
C Y
A Y
B Y
C Y
C X
B X
B X
A Z
C Y
B Y
C Z
B X
B Y
B Y
B X
B Y
B Z
B Y
B Y
B X
B Y
B X
C X
B Y
B X
A Y
B Y
B X
B Y
A Y
B X
B X
B Y
A Y
B Y
B Y
B Y
C Z
B X
B Y
B X
B X
B Y
B X
C Z
B Y
B Y
B Y
B Y
B Y
B X
A Y
B Y
C Y
C Z
A Y
B Y
A Y
C Z
B Y
B X
B Y
C X
A Y
B X
B Y
B X
B X
B X
A Y
C Z
B Y
A Y
B X
A Y
B Y
A Y
B X
B Y
B Y
B Y
B X
B X
C Z
B Z
B Y
B X
C Y
C Y
C Z
C X
C Y
B Y
B X
A Y
A Y
B X
C Z
B X
C X
B X
B Y
B Y
A Z
B Z
C Y
C Y
B Y
B Y
C Y
C Y
C Z
B Y
B X
B Y
B Y
C Y
B Y
B Y
B Y
B Y
B Y
C Y
A Z
B X
B Y
C Z
B Y
C Y
B Y
B X
C Y
B Y
B X
C Y
B Y
B Y
B Y
A Y
B X
B X
B Y
B Y
B X
C Z
B Y
A Y
A Y
B X
C X
A Y
B X
B X
B Y
B Y
A Y
C Y
C Z
C Y
B Y
B Y
A Y
A Y
A Y
B Y
B Y
A X
B Y
B Y
B X
B X
C Z
B X
B X
A Y
A Y
A Y
B Y
B Y
C Y
B X
A Y
B Y
C Z
B X
A Y
C Z
A Y
B X
C Y
B Y
B Y
C Y
B X
B X
B Y
B Y
B Y
B Y
A Y
B X
B X
B Y
A Y
B Z
A Y
B Y
C Y
B Y
B Y
B X
C Z
B Y
B Y
B X
B X
C Z
B Y
A Y
B Y
B X
C Y
A Z
C Z
B Y
B Y
B X
C Y
C X
B X
C Y
C Z
B X
B Y
B Y
C Z
B X
C X
A Z
A Y
B X
C X
B Y
A Z
A Z
A Y
B X
A Y
B Y
B Y
C Z
B X
A Z
B Y
B X
A Y
B Y
C Y
B Y
B X
B X
A Z
B Y
B Y
C Z
B X
B X
B Y
C Z
B X
B X
C Z
B X
A Y
B X
C Z
A Y
C X
B Y
B X
B Y
B Y
C Y
B X
A Z
A Y
B X
A Z
B X
B Y
B Y
A Z
C X
B Y
B Y
B Y
A Z
B Y
B X
C Y
C Z
B X
B Y
B Y
B Y
C Y
A Z
B Y
C Z
C X
B Y
C Y
B Y
B X
B Y
B Y
A Y
B Y
B Y
C Z
A Z
B X
C Y
B Y
B Y
B Y
A Y
A Y
B Y
A Y
B Y
A Y
B X
C Y
B Y
C X
A X
B X
A Y
C Y
B Y
A X
B X
A Z
B X
B Y
B Y
B X
B Y
B Y
B X
A Y
A Z
C Z
B Y
B Y
B X
C Z
C Z
B Y
A Y
B X
C Z
A Y
B X
B Z
B Y
B Y
B Y
B X
B Y
B X
B X
B Y
C Y
B Y
B Y
B Y
B Y
B Y
C Z
B X
B Y
B Y
B Y
B X
B X
C Y
B X
B X
C Z
B Y
B Y
B Y
B Y
B Y
C Y
B Y
B Y
B Y
B X
B Y
B X
B Y
B Y
C X
B Y
C X
B X
C Z
C X
B Y
A Y
A Z
A Y
C Y
B X
B Y
B Y
C Z
A Z
B Y
B Y
B Y
B Y
B Y
B Y
B Y
C Y
B Y
C Y
C X
B X
B X
C Z
A X
B X
B Y
A Y
B X
B Y
A Z
B Y
C Y
B X
B Y
B Y
C Y
C Y
B Y
B X
B X
B Y
B Y
B Y
B Y
C Z
B X
B Y
B Y
B X
B Y
B X
B X
B Y
B X
B Y
B Y
C Y
B X
B Y
B Y
B Y
A Y
B Y
A Z
B Y
C Y
C Y
B Y
B X
A X
B Y
A Y
B X
B Y
B Y
B X
C Y
C Z
B X
B Y
A Y
C Y
A Z
C Y
B Y
B Y
B Y
B X
C Y
B Y
B Y
A Y
A X
B Y
B X
B Y
B Y
A Y
B X
C X
B Y
A Y
C Y
B Y
B Y
A Y
C Y
A Y
C Y
B Y
B X
C Y
C Y
B Y
B Y
A Y
B Y
B Y
B Y
C Z
B X
B Y
B X
B X
A X
A Y
B Y
B X
A Z
B X
A Y
B Y
C Y
C Y
C Y
B Y
A Y
A Y
B Y
B Y
B Z
B Y
B X
A Y
B X
A Z
B Y
B Y
B X
B Y
C Y
A Z
B Y
C X
C Y
B Y
B Y
C X
B Y
A Y
A Y
C Z
B X
B X
B X
B X
B Y
C Z
B X
C Y
A Y
B Y
A Y
B Y
A Y
B Y
B Y
C Y
B Y
B Y
B X
B Y
B X
B Y
B X
B Y
A Z
C X
B X
C X
B X
A Y
C Y
B X
C Y
B X
B X
C Z
C Y
B X
B X
B X
B Y
C Y
B X
B X
A Z
B Y
B Y
C Y
B X
C Z
C Y
A Y
B X
C Y
C X
B Y
B Y
A X
B Y
B X
B Y
B X
C Y
B X
A Y
B Y
B X
B Y
B Y
B Y
C Y
C Y
C Y
C Y
B X
B Y
A Z
B X
B X
B Y
B Y
C Z
B Y
B X
B Y
B X
C Y
B Y
C Z
A X
B X
B Y
C Y
C X
B X
B X
B Y
B Y
B Y
B X
B Y
B Y
B X
C Z
B Y
B Y
B X
B X
B Y
B X
C Z
A Z
C X
C X
B Y
B X
A Y
B Y
B X
C Z
A X
B X
B Y
B X
B X
B Y
B Y
A Z
B X
A Y
A Y
B Y
B X
B Y
C Y
A Y
A Y
B X
B Z
C Y
C Y
B Y
C X
B X
C Z
C Z
B Y
C X
A Y
B Y
B X
A Y
B Y
C X
B Y
B X
B Y
C Z
A X
A Z
B Y
B Y
B X
B X
A Y
B Y
B X
B Y
C Y
B Y
B X
C Z
C X
C Y
A Y
B Y
A Y
B Y
B Y
B X
B X
A Y
A Y
B Y
B Y
B Y
A Y
B Y
B Y
B Y
C Z
A Z
C Y
B Y
B X
C Y
A Z
B X
B Y
A Z
C Y
B Y
B X
B Y
B Y
A Y
B X
B Z
B X
B X
B X
B X
B Y
B Y
B X
B Y
C Y
C X
C Z
B Y
B Y
C Y
A Y
B X
B X
B Y
B X
B Y
B Y
A Y
B Y
B Y
B Y
B Y
A Y
B X
C Z
B Y
B Y
B Y
B X
B Y
C Y
B X
B X
A Y
A X
A Y
C X
C Y
B Y
B Y
C Y
B X
B Y
B Y
C Y
B X
C X
B X
C Y
B Y
B X
B X
B Y
C X
B X
B Y
B X
B X
B Y
B X
B Y
B Y
B Y
C Y
B Y
B Y
C Z
B Y
B X
C Y
B Y
B Y
B X
B Y
A Y
B Y
A Y
B Y
B Y
A Z
B X
B Y
B Y
C Z
B X
B X
B Y
B Y
B Y
B X
C Y
C Y
B X
B Z
A X
B Z
C Y
B X
B X
A X
B Y
B X
C Z
C Y
B X
B Y
B Y
B Y
C Z
B Y
C Y
C Y
A Y
B X
B Y
B Y
B Y
A X
B Y
B Y
B X
B X
A Y
B X
B Y
A Z
B Y
C Z
B X
B Y
B Y
A Y
A Y
B Y
B Y
B Y
B Y
C Y
C Z
B X
B X
B Y
B Y
B X
B X
A X
A Y
B Y
B Y
B X
B Y
A Y
B Z
B X
C Z
B Y
B X
B X
B Y
B Y
B Y
C Y
C X
B X
C Z
B Z
B X
B X
C Z
C Y
B X
A Z
C Y
A Y
B X
B Y
C Z
B Y
B Y
B X
B Y
C Z
B Y
A Y
B X
B X
B X
C Y
B X
B Y
B X
B Y
B Y
A X
C Y
A Y
C Y
B X
B Y
B X
B X
B Y
B Y
B Y
B Y
B Y
B Z
B Y
A X
C Z
B X
A Y
C Z
B Y
C X
A Y
C Y
C X
B Y
B X
B X
C Z
C Y
A Z
C Y
A Y
B Z
A Y
B X
C X
A Z
C X
B Y
C X
B Y
A Y
A X
B X
B Y
B X
B X
B X
A Y
B Y
B X
B Y
A X
B Y
C X
B Y
B X
B Y
A Y
B X
B Y
B X
B Y
B X
B Y
B Y
A Z
A X
B Y
C Z
B Y
B Y
B Y
B Y
C Y
B Y
A Y
A Y
C Z
C Y
B Y
A Y
B Y
B X
A Y
C Y
B Y
B Y
A Y
B Y
A X
C X
B Y
B Y
C X
B Y
B X
A X
B Y
B Y
B Y
B X
B X
A Z
B Y
A X
B X
A Z
B X
C Z
B Y
B Y
B Y
B X
B Y
B Y
C Y
B Y
B X
A Y
C Z
B Y
B X
A Y
C Y
B X
B Y
B Y
C Z
A Y
B X
B Y
B X
B X
C X
B Z
C Y
B Y
B Y
B X
B Y
C Y
C Y
C Y
B Y
A Y
C Z
B Y
C X
C Y
B Y
B Y
A Z
B X
A Y
A Y
A Z
B X
A Y
C Z
B Y
B Y
A X
B X
B Y
C Z
B Y
B Y
B X
B Y
B X
B X
A X
C Y
C Y
C Y
B Y
B Y
C Z
B Y
B X
C X
B Y
C Z
B X
B Y
B Y
B Y
B X
B Y
B X
B X
B Y
B Y
B Y
B Y
B X
B Y
B Y
C Z
B X
B Y
C Y
B X
B Z
B Y
C Z
C Y
B Y
A Z
A Y
B X
B Y
C Y
A X
A Y
B X
B Y
C Z
B Y
C X
A Y
C Y
B Y
B X
B Y
B Y
B Y
B X
B Y
C X
A Z
B X
C Y
A Y
B X
B Y
B X
B Y
C X
A Y
A Y
C Z
B Y
C Y
B Y
B Y
B Y
B Y
B Y
C Y
A Y
B Y
B X
C Y
B Y
B Y
A Z
B Y
B Y
B X
B Y
B Y
B X
A Y
A Z
B X
B X
C Y
B Y
B X
C Y
B Y
A X
B X
B Y
A Z
B Y
B Y
B Y
B Y
B X
A X
B X
C Y
B Y
B Y
B X
C Y
B Y
B X
B Y
B X
A X
B Y
A Y
B X
C X
B Y
C Z
B Y
B Y
C Y
B Y
C X
B Y
B X
A Z
B Y
B X
B Y
A Y
B Y
B X
B X
B X
B Y
B Y
B Y
A Y
C X
B X
B X
C Z
B Y
A Y
A Z
A Y
B Y
B Y
B X
C X
C Y
C Z
B Y
B Y
B Y
B Y
B Y
B X
C Y
B Y
B Y
B X
B X
B Y
B Y
A Y
A Y
A Y
B X
B X
C Y
B Y
A Z
B X
C Y
B Y
B X
B Y
B Y
A Y
A Y
B Y
B Y
B X
B X
A Y
A X
A Z
C X
A Z
B X
B Y
C Y
A X
B X
C Z
B Y
C Y
A Y
C X
B Y
C X
A Y
B Y
B X
B Y
A X
B X
B X
B Y
B Y
B Y
B X
B Y
B X
B Y
A X
B Y
B X
B Y
B Y
B Y
B X
B X
A Y
B Y
A Z
B Y
B X
C Z
B X
B Y
B Y
B Y
B X
C Y
B Y
B Y
A Y
B X
B X
B Y
B Y
A Y
B Y
B X
B Y
B X
B Y
C X
C Y
B X
B X
B X
C Z
B Y
B Y
B X
B X
B Y
A Y
B Y
C X
A Y
B Y
B Y
C X
B X
A Y
C X
B Y
B X
C Z
B X
B Y
A Y
B Y
B X
C Y
A Y
B Y
A X
B Y
C Y
C X
B Y
B X
A Z
B Y
B Y
B X
B Y
B Y
B X
B Y
C Y
B X
B Y
B X
B X
C Y
B X
B X
A Y
B X
B Y
B Y
B Y
B Y
B Y
B Y
B Y
C X
B X
B X
A Y
B Y
A Y
B X
B Y
A Y
B Y
A Z
B X
A Y
C Z
A Y
A Z
B X
B Y
A Y
B X
B X
B Y
B Y
A Z
A Y
B X
C Y
B Y
B Z
C X
C X
B X
A Y
B X
B Y
B Y
A X
B Y
A X
B Y
A Y
B X
B X
A Z
A Y
A Y
C Z
B Y
B Y
C Z
B Y
B X
C Y
B Y
B X
A Y
B Y
B X
C X
C X
B Y
A Y
B Y
B Y
B Y
B X
A Y
B Y
B Y
A Y
B Y
B X
B X
C Y
C X
B Y
C X
B Y
C Y
B X
B Y
B X
B Y
B Y
B X
B Y
B Y
C Y
B X
B Y
B X
B Y
A Y
B X
A Y
B X
B Y
B X
C X
C Y
B Y
B X
B Y
B Y
B X
B Y
B Y
A Y
B Y
B X
B Y
B X
C Y
A Y
B Y
B X
B Z
B Y
B X
C Y
B Y
C Y
C Y
B X
C Z
B X
C Y
B Y
A Y
B Y
A X
B Y
B Y
B Y
B Y
A Z
B Y
B Y
A Y
C Y
B Y
B X
B Y
B X
B Y
B Z
B X
B X
B Y
B Y
B Y
B X
B Y
B X
B Y
B Y
A Y
C Z
B Y
B Y
B X
B X
B X
B Y
A Y
A Y
B X
B Y
B X
A X
B Y
B Y
C Y
A Y
C Z
A Z
A Y
B Y
B Y
B Y
B Y
B Y
C X
B Y
A Y
C X
C Y
B X
A Z
C Z
A Z
C Y
B X
B Y
B Y
B X
B Y
A Z
C Z
C X
B X
B Z
A Y
C Y
C Y
C Y
A Y
C X
B X
C Y
C Y
B Y
B Y
A Y
B Y
A Y
A Y
B X
B X
C Y
B Y
C Y
B Y
B Z
B Y
A Y
B X
B Y
A X
B X
B Y
B Y
C Y
B Y
C Z
B Z
A Y
A Y
A Y
B Y
B X
B Y
A Y
C X
B X
B Y
B X
C X
B Y
B X
B Y
B Y
B X
A Y
A Y
B Y
B Y
B Y
A Z
B Y
B Y
B Y
B Y
B Y
B X
B Y
B Y
B Y
B Y
B Y
B X
B X
B X
A X
C Y
C X
C Z
C Y
B X
B Y
A Z
B Y
C Y
B Y
B X
B Y
A Y
B X
B X
B X
C Y
B Y
B Y
B Y
B X
B Y
B Y
B Y
B Y
B Y
B Y
C X
B Y
A X
B X
C Z
B X
B Y
B X
B Y
C Y
B Y
B Y
B X
A Z
B Y
A X
B Y
C Z
C Y
B Y
B Y
B Y
C X
B Y
B Y
B X
A Y
C Z
B Y
B X
B Y
B Y
B Y
B X
B Y
B Y
B Y
C X
B X
B X
C Z
B Y
B Y
B X
A Z
B Y
B Y
C Y
C Y
A Y
C Y
A Y
B Y
B X
B Y
B X
C Y
B Y
B Y
B Y
B Y
B Y
C X
B X
B X
B Y
C X
C Z
B X
A Y
C Z
B X
B X
C Y
C Y
A Y
B Y
B X
B Y
B Y
A Z
A Z
B Y
B Y
B Y
B Y
B Y
B Y
B Y
B X
B Y
C Y
B Y
B X
A X
B Y
A Y
A Y
B Y
B Y
B X
B Y
B Y
C Y
A Y
B X
B X
B X
B Y
B Y
B Y
B Y
B X
B X
A Y
B X
B X
B X
B X
B Y
B X
A X
C Y
B Y
B Y
A Y
B Y
B X
C X
C Y
A Y
B Y
A Z
C Y
B Y
B Y
B Y
B X
B X
B Y
C X
B X
B Y
C X
B X
A Y
B Y
B X
B Y
B Y
B X
B Y
B Y
C Y
B X
B X
B X
A Y
B Y
B X
C Y
C Y
B X
A Y
B Y
C Y
B X
B Y
B X
B X
B Y
C Y
A Y
C Y
B X
C X
B Y
B X
A Y
C Y
B Y
B Y
B Y
C Z
C Y
A Z
A Y
B Y
B Y
B Y
B Y
A Y
B X
B Y
B Y
C Y
C X
B Y
B Y
B Y
B Y
B X
B X
B X
C Z
B Y
B Y
C Y
B X
B Y
B Y
A Z
B Y
C Z
B X
A Y
B X
B Y
A Y
A Z
A Z
B Z
B Y
B Y
A Y
C Z
B Y
C Z
B X
B Y
B Y
B Y
B Y
C Y
B X
B X
B X
B X
B X
B Y
A Z
A Y
B Y
B Y
B Y
C X
B Y
A Y
B Y
B Y
B X
B Y
C Y
A Z
A Y
C Y
C Z
B X
A Z
B X
B X
B Z
B Y
C Y
A Y
B Y
B Y
B X
C Z
B Y
B Y
A Z
A X
B Y
B X
B Y
B X
B X
B X
B X
A Y
B Y
A X
B X
B X
B Y
B X
B Y
B Y
A Y
B Y
C Y
A Z
A Y
B X
B Y
A Y
C X
B Y
C Y
B X
B Y
A Y
B Y
A Z
B Y
B Y
A Y
B X
C Y
B Y
B Y
C Z
B X
B Z
B Y
A Y
B Y
C X
B Y
B Y
B Y
B Y
B Y
C Z
C Z
B Y
C Y
C Z
A X
B Y
A Y
B X
B X
B Z
B X
A Y
B Y
B Y
B Y
A Z
C Y
B Y
B Y
C Y
C Z
C X
B Y
A X
B Y
A Y
C X
B Y
B Y
B Y
B Z
B X
B X
C Y
B X
B X
C Z
B Y
B X
B X
B Y
B Y
B X
C X
B Y
B Y
B X
A Y
B Y
C Y
B Y
A X
B Y
A Y
A Y
B Y
B X
B X
C X
B Y
B X
A Y
C X
A Y
B X
B Y
B Y
C Z
B X
B Y
B X
B Y
B Y
A Z
B Z
B Y
B Y
C Y
C X
C Y
C Y
B Y
B Y
B Y
C Y
A Z
A Z
B Y
B X
A Y
B X
B Y
A Y
B X
B Y
B X
C X
B Y
B Y
B X
B X
A Z
A Y
B Y
A Y
B Y
B X
B X
A Y
B X
B Y
B Y
B X
C X
C X
B Y
B Y
A Y
B X
B Y
B Y
B Y
B Y
C Y
B Y
C Z
B Y
B Y
C X
B X
B Y
B Y
B X
B X
B Y
B Y
B Y
B X
A Z
B Y
B X
C Z
B X
B Y
A Z
C Z
A Z
B X
B Y
B Y
B Y
B X
B Y
C Y
C X
C Y
A X
B Y
B Z
B Y
B Y
B Y
A Y
B X
B Y
C Y
B Y
B X
B X
B Y
B Y
B Y
C Z
B Y
B X
B Z
B X
B Y
B Y
B X
B X
A Y
B X
B X
B X
A Y
B X
B X
B Y
B X
A X
B Y
B Y
C Y
B X
B Y
B X
B X
C Y
B Y
B Y
B X
A X
C Y
C X
A Y
B X
B Y
B Y
B Y
B Y
B X
B Y
B Y
B Y
B Y
C Y
C Z
B Y
C X
B X
B Y
A Z
C X
B X
B Y
B Y
B X
B Y
B Y
B Y
B Y
B Y
B Y
B Y
C Y
B Y
C Y
B X
A Z
B Y
B X
A Y
B Y
B X
A Y
B X
B X
B X
B Y
B Y
B X
B Y
A Z
B Y
B Y
B Y
B Y
B Y
B Y
B Y
B Y
B X
B Y
B Y
A Y
B Y
B X
B X
C Y
C X
B Y
A Y
C Z
B X
B X
B Y
C Y
A Y
B Y
B Y
B X
B Y
B X
C Y
C Y
B Y
B X
B X
B Y
C Y
B Y
C Y
B Y
B Y
C Y
A Y
B Y
A Z
C X
B Y
B Y
B X
B X
C Z
B Y
B Y
B Y
B X
B X
A X
B X
B Z
B Y
B X
B X
B Y
B X
B X
B Y
B Y
B Y
B Y
A Y
B Y
B X
B Z
B Y
A X
A X
A Y
B Y
B Y
C Y
A Y
C Y
B Y
B X
B Y
B Y
B X
B Y
A Y
B Y
B Y
B X
B Y
A Y
B X
B Y`
